---
import { supabase } from "../lib/supabase";
// Fetch skills data
const { data: skills, error } = await supabase
  .from("skills")
  .select("*")
  .limit(1)
  .maybeSingle();
if (error) {
  console.error("Error fetching skills:", error.message);
}
---

<section id="about" class="py-20 bg-gray-800 overflow-hidden">
  <div class="container mx-auto px-4 sm:px-6 w-full">
    <div
      class="grid md:grid-cols-3 gap-10 items-center border border-green-500 rounded-lg p-8"
    >
      {/* Bagian Kiri - BIOGRAPHY */}
      <div class="md:col-span-1 border-r-2 border-green-500 pr-8">
        <h2
          class="text-3xl sm:text-4xl font-bold mb-6 text-orange-500 sm:text-left"
        >
          BIOGRAPHY
        </h2>
        <p class="text-gray-300 sm:text-left leading-relaxed">
          {skills.biography}
        </p>
      </div>

      {/* Bagian Tengah - FOTO */}
      <div
        class="md:col-span-1 flex justify-center border-r-2 border-green-500 px-8"
      >
        <img
          src={skills.avatar_url}
          alt="Profil"
          class="rounded-lg shadow-xl w-full max-w-xs sm:max-w-md"
        />
      </div>

      {/* Bagian Kanan - Skill & Interest */}
      <div class="md:col-span-1 pl-8">
        <h3
          class="text-xl sm:text-2xl font-semibold mb-4 sm:text-left text-white"
        >
          Skill & Interest
        </h3>
        <ul class="list-disc list-inside text-gray-300 sm:text-left space-y-1">
          {
            skills.skills ? (
              skills.skills.split(", ").map((skill, index) => (
                <li key={index} class="text-white">
                  {skill}
                </li>
              ))
            ) : (
              <li class="text-gray-400">Data skill belum tersedia.</li>
            )
          }
        </ul>

        {/* Bagian Tools */}
        <h3
          class="text-xl sm:text-2xl font-semibold mt-6 sm:text-left text-white"
        >
          Tools
        </h3>
        <div class="flex space-x-3 mt-2">
          <img src="office-icon.png" alt="Office" class="w-10 h-10" />
          <img src="canva-icon.png" alt="Canva" class="w-10 h-10" />
          <img
            src="google-workspace.png"
            alt="Google Workspace"
            class="w-10 h-10"
          />
        </div>
      </div>
    </div>
  </div>
</section>
